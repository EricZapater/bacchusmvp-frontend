import{K as c}from"./index-3e5d5186.js";import{R as a}from"./reference.service-a0354458.js";const r=new a("/reference"),o=c({id:"reference",state:()=>({reference:void 0,references:void 0,referenceFormats:void 0,module:""}),getters:{},actions:{setNewReference(e){this.reference={id:e,code:"",description:"",cost:0,price:0,disabled:!1,version:"1",sales:this.module==="sales",purchase:this.module==="purchase",production:this.module==="production",referenceFormatId:"",density:0,formatId:0,lastPurchaseCost:0}},async fetchReferences(){this.references=await r.getAll(),this.referenceFormats||(this.referenceFormats=await r.getReferenceFormats())},async fetchReferencesByModule(e){this.module=e,this.references=await r.getByModule(e),this.referenceFormats||(this.referenceFormats=await r.getReferenceFormats())},async fetchReference(e){this.reference=await r.getById(e)},async createReference(e){const t=await r.create(e);return console.log("createReference",this.module,t),t&&await this.fetchReferencesByModule(this.module),t},async updateReference(e,t){const s=await r.update(e,t);return s&&await this.fetchReferencesByModule(this.module),s},async deleteReference(e){const t=await r.delete(e);return t&&await this.fetchReferencesByModule(this.module),t}}});export{o as u};
