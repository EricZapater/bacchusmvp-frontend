import{N as le,Q as J,W as S,O as v,X as we,Y as De,h as y,Z as xe,a as f,c as P,G as F,R as Ce,e as u,m as D,w as g,$ as ie,a0 as B,n as V,l as C,D as _,a1 as ue,a2 as X,a3 as Q,a4 as w,a5 as _e,a6 as Le,a7 as Oe,i as m,a8 as Ee,a9 as Ve,aa as Ae,L as M,ab as de,d as N,j as ee,r as K,k as x,o as ce,C as A,P as q,y as G,s as Y,H as Ke,p as Te,b as Fe,f as Be,K as Me,x as ze,v as Re,g as Ne,u as Ue,z as Ge,E as $}from"./index-3e5d5186.js";import{u as qe}from"./invoice-acf3a24a.js";import{u as je}from"./customers-fd8ac717.js";import{u as j}from"./masterData-f14d626d.js";import{u as te}from"./lifecycle-c50b6fd0.js";import{f as me,b as He}from"./functions-8d6e0d81.js";import{c as fe,a as ne,d as se,F as Ze}from"./form-validator-06de3ae8.js";import{l as We}from"./lodash-a157513e.js";import{s as Qe}from"./index-54e2d53f.js";import{R as Ye}from"./constants-cc9165e4.js";import{S as ae}from"./index-d40ee479.js";import"./base.service-5289f73f.js";import"./index-2bcba959.js";import"./reference.service-a0354458.js";import"./v4-a960c1f4.js";import"./file.service-541037dc.js";var $e=`
@layer primevue {
    .p-tieredmenu ul {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .p-tieredmenu .p-submenu-list {
        position: absolute;
        min-width: 100%;
        z-index: 1;
        display: none;
    }

    .p-tieredmenu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    .p-tieredmenu .p-menuitem-text {
        line-height: 1;
    }

    .p-tieredmenu .p-menuitem {
        position: relative;
    }

    .p-tieredmenu .p-menuitem-link .p-submenu-icon {
        margin-left: auto;
    }

    .p-tieredmenu .p-menuitem-active > .p-submenu-list {
        display: block;
        left: 100%;
        top: 0;
    }
}
`,Xe={submenu:function(e){var i=e.instance,a=e.processedItem;return{display:i.isItemActive(a)?"block":"none"}}},Je={root:function(e){var i=e.instance,a=e.props;return["p-tieredmenu p-component",{"p-tieredmenu-overlay":a.popup,"p-input-filled":i.$primevue.config.inputStyle==="filled","p-ripple-disabled":i.$primevue.config.ripple===!1}]},menu:"p-tieredmenu-root-list",menuitem:function(e){var i=e.instance,a=e.processedItem;return["p-menuitem",{"p-menuitem-active p-highlight":i.isItemActive(a),"p-focus":i.isItemFocused(a),"p-disabled":i.isItemDisabled(a)}]},content:"p-menuitem-content",action:function(e){var i=e.props,a=e.isActive,o=e.isExactActive;return["p-menuitem-link",{"router-link-active":a,"router-link-active-exact":i.exact&&o}]},icon:"p-menuitem-icon",text:"p-menuitem-text",submenuIcon:"p-submenu-icon",submenu:"p-submenu-list",separator:"p-menuitem-separator"},et=le.extend({name:"tieredmenu",css:$e,classes:Je,inlineStyles:Xe}),tt={name:"BaseTieredMenu",extends:J,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},style:et,provide:function(){return{$parentInstance:this}}},pe={name:"TieredMenuSub",hostName:"TieredMenu",extends:J,emits:["item-click","item-mouseenter"],props:{menuId:{type:String,default:null},focusedItemId:{type:String,default:null},items:{type:Array,default:null},level:{type:Number,default:0},templates:{type:Object,default:null},activeItemPath:{type:Object,default:null},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},methods:{getItemId:function(e){return"".concat(this.menuId,"_").concat(e.key)},getItemKey:function(e){return this.getItemId(e)},getItemProp:function(e,i,a){return e&&e.item?S.getItemValue(e.item[i],a):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},getPTOptions:function(e,i,a){return this.ptm(a,{context:{item:e,index:i,active:this.isItemActive(e),focused:this.isItemFocused(e),disabled:this.isItemDisabled(e)}})},isItemActive:function(e){return this.activeItemPath.some(function(i){return i.key===e.key})},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemFocused:function(e){return this.focusedItemId===this.getItemId(e)},isItemGroup:function(e){return S.isNotEmpty(e.items)},onItemClick:function(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.$emit("item-click",{originalEvent:e,processedItem:i,isFocus:!0})},onItemMouseEnter:function(e,i){this.$emit("item-mouseenter",{originalEvent:e,processedItem:i})},onItemActionClick:function(e,i){i&&i(e)},getAriaSetSize:function(){var e=this;return this.items.filter(function(i){return e.isItemVisible(i)&&!e.getItemProp(i,"separator")}).length},getAriaPosInset:function(e){var i=this;return e-this.items.slice(0,e).filter(function(a){return i.isItemVisible(a)&&i.getItemProp(a,"separator")}).length+1},getMenuItemProps:function(e,i){return{action:v({class:this.cx("action"),tabindex:-1,"aria-hidden":!0},this.getPTOptions(e,i,"action")),icon:v({class:[this.cx("icon"),this.getItemProp(e,"icon")]},this.getPTOptions(e,i,"icon")),label:v({class:this.cx("label")},this.getPTOptions(e,i,"label")),submenuicon:v({class:this.cx("submenuIcon")},this.getPTOptions(e,i,"submenuIcon"))}}},components:{AngleRightIcon:we},directives:{ripple:De}},it=["tabindex"],nt=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-level","aria-setsize","aria-posinset","data-p-highlight","data-p-focused","data-p-disabled"],st=["onClick","onMouseenter"],at=["href","onClick"],ot=["href","target"],rt=["id"];function lt(t,e,i,a,o,s){var d=y("router-link"),c=y("AngleRightIcon"),r=y("TieredMenuSub",!0),h=xe("ripple");return f(),P("ul",v({class:i.level===0?t.cx("menu"):t.cx("submenu"),tabindex:i.tabindex},i.level===0?t.ptm("menu"):t.ptm("submenu")),[(f(!0),P(F,null,Ce(i.items,function(n,l){return f(),P(F,{key:s.getItemKey(n)},[s.isItemVisible(n)&&!s.getItemProp(n,"separator")?(f(),P("li",v({key:0,id:s.getItemId(n),style:s.getItemProp(n,"style"),class:[t.cx("menuitem",{processedItem:n}),s.getItemProp(n,"class")],role:"menuitem","aria-label":s.getItemLabel(n),"aria-disabled":s.isItemDisabled(n)||void 0,"aria-expanded":s.isItemGroup(n)?s.isItemActive(n):void 0,"aria-haspopup":s.isItemGroup(n)&&!s.getItemProp(n,"to")?"menu":void 0,"aria-level":i.level+1,"aria-setsize":s.getAriaSetSize(),"aria-posinset":s.getAriaPosInset(l)},s.getPTOptions(n,l,"menuitem"),{"data-p-highlight":s.isItemActive(n),"data-p-focused":s.isItemFocused(n),"data-p-disabled":s.isItemDisabled(n)}),[u("div",v({class:t.cx("content"),onClick:function(I){return s.onItemClick(I,n)},onMouseenter:function(I){return s.onItemMouseEnter(I,n)}},s.getPTOptions(n,l,"content")),[i.templates.item?(f(),D(B(i.templates.item),{key:1,item:n.item,hasSubmenu:s.getItemProp(n,"items"),label:s.getItemLabel(n),props:s.getMenuItemProps(n,l)},null,8,["item","hasSubmenu","label","props"])):(f(),P(F,{key:0},[s.getItemProp(n,"to")&&!s.isItemDisabled(n)?(f(),D(d,{key:0,to:s.getItemProp(n,"to"),custom:""},{default:g(function(p){var I=p.navigate,b=p.href,H=p.isActive,Z=p.isExactActive;return[ie((f(),P("a",v({href:b,class:t.cx("action",{isActive:H,isExactActive:Z}),tabindex:"-1","aria-hidden":"true",onClick:function(T){return s.onItemActionClick(T,I)}},s.getPTOptions(n,l,"action")),[i.templates.itemicon?(f(),D(B(i.templates.itemicon),{key:0,item:n.item,class:V([t.cx("icon"),s.getItemProp(n,"icon")])},null,8,["item","class"])):s.getItemProp(n,"icon")?(f(),P("span",v({key:1,class:[t.cx("icon"),s.getItemProp(n,"icon")]},s.getPTOptions(n,l,"icon")),null,16)):C("",!0),u("span",v({class:t.cx("label")},s.getPTOptions(n,l,"label")),_(s.getItemLabel(n)),17)],16,at)),[[h]])]}),_:2},1032,["to"])):ie((f(),P("a",v({key:1,href:s.getItemProp(n,"url"),class:t.cx("action"),target:s.getItemProp(n,"target"),tabindex:"-1","aria-hidden":"true"},s.getPTOptions(n,l,"action")),[i.templates.itemicon?(f(),D(B(i.templates.itemicon),{key:0,item:n.item,class:V([t.cx("icon"),s.getItemProp(n,"icon")])},null,8,["item","class"])):s.getItemProp(n,"icon")?(f(),P("span",v({key:1,class:[t.cx("icon"),s.getItemProp(n,"icon")]},s.getPTOptions(n,l,"icon")),null,16)):C("",!0),u("span",v({class:t.cx("label")},s.getPTOptions(n,l,"label")),_(s.getItemLabel(n)),17),s.getItemProp(n,"items")?(f(),P(F,{key:2},[i.templates.submenuicon?(f(),D(B(i.templates.submenuicon),v({key:0,class:t.cx("submenuIcon"),active:s.isItemActive(n)},s.getPTOptions(n,l,"submenuIcon")),null,16,["class","active"])):(f(),D(c,v({key:1,class:t.cx("submenuIcon")},s.getPTOptions(n,l,"submenuIcon")),null,16,["class"]))],64)):C("",!0)],16,ot)),[[h]])],64))],16,st),s.isItemVisible(n)&&s.isItemGroup(n)?(f(),D(r,{key:0,id:s.getItemId(n)+"_list",style:ue(t.sx("submenu",!0,{processedItem:n})),role:"menu",menuId:i.menuId,focusedItemId:i.focusedItemId,items:n.items,templates:i.templates,activeItemPath:i.activeItemPath,exact:i.exact,level:i.level+1,pt:t.pt,unstyled:t.unstyled,onItemClick:e[0]||(e[0]=function(p){return t.$emit("item-click",p)}),onItemMouseenter:e[1]||(e[1]=function(p){return t.$emit("item-mouseenter",p)})},null,8,["id","style","menuId","focusedItemId","items","templates","activeItemPath","exact","level","pt","unstyled"])):C("",!0)],16,nt)):C("",!0),s.isItemVisible(n)&&s.getItemProp(n,"separator")?(f(),P("li",v({key:1,id:s.getItemId(n),style:s.getItemProp(n,"style"),class:[t.cx("separator"),s.getItemProp(n,"class")],role:"separator"},t.ptm("separator")),null,16,rt)):C("",!0)],64)}),128))],16,it)}pe.render=lt;var he={name:"TieredMenu",extends:tt,inheritAttrs:!1,emits:["focus","blur","before-show","before-hide","hide","show"],outsideClickListener:null,scrollHandler:null,resizeListener:null,target:null,container:null,menubar:null,searchTimeout:null,searchValue:null,data:function(){return{id:this.$attrs.id,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],visible:!this.popup,dirty:!1}},watch:{"$attrs.id":function(e){this.id=e||X()},activeItemPath:function(e){this.popup||(S.isNotEmpty(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener()))}},beforeMount:function(){this.$slots.item||console.warn("In future versions, vue-router support will be removed. Item templating should be used.")},mounted:function(){this.id=this.id||X()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Q.clear(this.container),this.target=null,this.container=null},methods:{getItemProp:function(e,i){return e?S.getItemValue(e[i]):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemGroup:function(e){return S.isNotEmpty(this.getItemProp(e,"items"))},isItemSeparator:function(e){return this.getItemProp(e,"separator")},getProccessedItemLabel:function(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup:function(e){return e&&S.isNotEmpty(e.items)},toggle:function(e){this.visible?this.hide(e,!0):this.show(e)},show:function(e,i){this.popup&&(this.$emit("before-show"),this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null),this.focusedItemInfo={index:this.findFirstFocusedItemIndex(),level:0,parentKey:""},i&&w.focus(this.menubar)},hide:function(e,i){this.popup&&(this.$emit("before-hide"),this.visible=!1),this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},i&&w.focus(this.relatedTarget||this.target||this.menubar),this.dirty=!1},onFocus:function(e){this.focused=!0,this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:this.findFirstFocusedItemIndex(),level:0,parentKey:""},this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.dirty=!1,this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled){e.preventDefault();return}var i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&S.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}},onItemChange:function(e){var i=e.processedItem,a=e.isFocus;if(!S.isEmpty(i)){var o=i.index,s=i.key,d=i.level,c=i.parentKey,r=i.items,h=S.isNotEmpty(r),n=this.activeItemPath.filter(function(l){return l.parentKey!==c&&l.parentKey!==s});h&&n.push(i),this.focusedItemInfo={index:o,level:d,parentKey:c},this.activeItemPath=n,h&&(this.dirty=!0),a&&w.focus(this.menubar)}},onOverlayClick:function(e){_e.emit("overlay-click",{originalEvent:e,target:this.target})},onItemClick:function(e){var i=e.originalEvent,a=e.processedItem,o=this.isProccessedItemGroup(a),s=S.isEmpty(a.parent),d=this.isSelected(a);if(d){var c=a.index,r=a.key,h=a.level,n=a.parentKey;this.activeItemPath=this.activeItemPath.filter(function(p){return r!==p.key&&r.startsWith(p.key)}),this.focusedItemInfo={index:c,level:h,parentKey:n},this.dirty=!s,w.focus(this.menubar)}else if(o)this.onItemChange(e);else{var l=s?a:this.activeItemPath.find(function(p){return p.parentKey===""});this.hide(i),this.changeFocusedItemIndex(i,l?l.index:-1),w.focus(this.menubar)}},onItemMouseEnter:function(e){this.dirty&&this.onItemChange(e)},onArrowDownKey:function(e){var i=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()},onArrowUpKey:function(e){if(e.altKey){if(this.focusedItemInfo.index!==-1){var i=this.visibleItems[this.focusedItemInfo.index],a=this.isProccessedItemGroup(i);!a&&this.onItemChange({originalEvent:e,processedItem:i})}this.popup&&this.hide(e,!0),e.preventDefault()}else{var o=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,o),e.preventDefault()}},onArrowLeftKey:function(e){var i=this,a=this.visibleItems[this.focusedItemInfo.index],o=this.activeItemPath.find(function(d){return d.key===a.parentKey}),s=S.isEmpty(a.parent);s||(this.focusedItemInfo={index:-1,parentKey:o?o.parentKey:""},this.searchValue="",this.onArrowDownKey(e)),this.activeItemPath=this.activeItemPath.filter(function(d){return d.parentKey!==i.focusedItemInfo.parentKey}),e.preventDefault()},onArrowRightKey:function(e){var i=this.visibleItems[this.focusedItemInfo.index],a=this.isProccessedItemGroup(i);a&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo={index:-1,parentKey:i.key},this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()},onHomeKey:function(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey:function(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey:function(e){if(this.focusedItemInfo.index!==-1){var i=w.findSingle(this.menubar,'li[id="'.concat("".concat(this.focusedItemId),'"]')),a=i&&w.findSingle(i,'[data-pc-section="action"]');if(a?a.click():i&&i.click(),!this.popup){var o=this.visibleItems[this.focusedItemInfo.index],s=this.isProccessedItemGroup(o);!s&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}}e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},onEscapeKey:function(e){this.hide(e,!0),!this.popup&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex()),e.preventDefault()},onTabKey:function(e){if(this.focusedItemInfo.index!==-1){var i=this.visibleItems[this.focusedItemInfo.index],a=this.isProccessedItemGroup(i);!a&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()},onEnter:function(e){this.autoZIndex&&Q.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu),w.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),w.focus(this.menubar),this.scrollInView()},onAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.container=null,this.dirty=!1},onAfterLeave:function(e){this.autoZIndex&&Q.clear(e)},alignOverlay:function(){this.container.style.minWidth=w.getOuterWidth(this.target)+"px",w.absolutePosition(this.container,this.target)},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(i){var a=e.container&&!e.container.contains(i.target),o=e.popup?!(e.target&&(e.target===i.target||e.target.contains(i.target))):!0;a&&o&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Le(this.target,function(i){e.hide(i,!0)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(i){w.isTouchDevice()||e.hide(i,!0)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isItemMatched:function(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())},isValidItem:function(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)},isValidSelectedItem:function(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected:function(e){return this.activeItemPath.some(function(i){return i.key===e.key})},findFirstItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(i){return e.isValidItem(i)})},findLastItemIndex:function(){var e=this;return S.findLastIndex(this.visibleItems,function(i){return e.isValidItem(i)})},findNextItemIndex:function(e){var i=this,a=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(function(o){return i.isValidItem(o)}):-1;return a>-1?a+e+1:e},findPrevItemIndex:function(e){var i=this,a=e>0?S.findLastIndex(this.visibleItems.slice(0,e),function(o){return i.isValidItem(o)}):-1;return a>-1?a:e},findSelectedItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(i){return e.isValidSelectedItem(i)})},findFirstFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems:function(e,i){var a=this;this.searchValue=(this.searchValue||"")+i;var o=-1,s=!1;return this.focusedItemInfo.index!==-1?(o=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(function(d){return a.isItemMatched(d)}),o=o===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(function(d){return a.isItemMatched(d)}):o+this.focusedItemInfo.index):o=this.visibleItems.findIndex(function(d){return a.isItemMatched(d)}),o!==-1&&(s=!0),o===-1&&this.focusedItemInfo.index===-1&&(o=this.findFirstFocusedItemIndex()),o!==-1&&this.changeFocusedItemIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){a.searchValue="",a.searchTimeout=null},500),s},changeFocusedItemIndex:function(e,i){this.focusedItemInfo.index!==i&&(this.focusedItemInfo.index=i,this.scrollInView())},scrollInView:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,i=e!==-1?"".concat(this.id,"_").concat(e):this.focusedItemId,a=w.findSingle(this.menubar,'li[id="'.concat(i,'"]'));a&&a.scrollIntoView&&a.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems:function(e){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",d=[];return e&&e.forEach(function(c,r){var h=(s!==""?s+"_":"")+r,n={item:c,index:r,level:a,key:h,parent:o,parentKey:s};n.items=i.createProcessedItems(c.items,a+1,n,h),d.push(n)}),d},containerRef:function(e){this.container=e},menubarRef:function(e){this.menubar=e?e.$el:void 0}},computed:{processedItems:function(){return this.createProcessedItems(this.model||[])},visibleItems:function(){var e=this,i=this.activeItemPath.find(function(a){return a.key===e.focusedItemInfo.parentKey});return i?i.items:this.processedItems},focusedItemId:function(){return this.focusedItemInfo.index!==-1?"".concat(this.id).concat(S.isNotEmpty(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:"","_").concat(this.focusedItemInfo.index):null}},components:{TieredMenuSub:pe,Portal:Oe}};function z(t){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(t)}function oe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,a)}return i}function re(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?oe(Object(i),!0).forEach(function(a){ut(t,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):oe(Object(i)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))})}return t}function ut(t,e,i){return e=dt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function dt(t){var e=ct(t,"string");return z(e)==="symbol"?e:String(e)}function ct(t,e){if(z(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var a=i.call(t,e||"default");if(z(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mt=["id"];function ft(t,e,i,a,o,s){var d=y("TieredMenuSub"),c=y("Portal");return f(),D(c,{appendTo:t.appendTo,disabled:!t.popup},{default:g(function(){return[m(Ee,v({name:"p-connected-overlay",onEnter:s.onEnter,onAfterEnter:s.onAfterEnter,onLeave:s.onLeave,onAfterLeave:s.onAfterLeave},t.ptm("transition")),{default:g(function(){return[o.visible?(f(),P("div",v({key:0,ref:s.containerRef,id:o.id,class:t.cx("root"),onClick:e[0]||(e[0]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)})},re(re({},t.$attrs),t.ptm("root")),{"data-pc-name":"tieredmenu"}),[m(d,{ref:s.menubarRef,id:o.id+"_list",tabindex:t.disabled?-1:t.tabindex,role:"menubar","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-disabled":t.disabled||void 0,"aria-orientation":"vertical","aria-activedescendant":o.focused?s.focusedItemId:void 0,menuId:o.id,focusedItemId:o.focused?s.focusedItemId:void 0,items:s.processedItems,templates:t.$slots,activeItemPath:o.activeItemPath,exact:t.exact,level:0,pt:t.pt,unstyled:t.unstyled,onFocus:s.onFocus,onBlur:s.onBlur,onKeydown:s.onKeyDown,onItemClick:s.onItemClick,onItemMouseenter:s.onItemMouseEnter},null,8,["id","tabindex","aria-label","aria-labelledby","aria-disabled","aria-activedescendant","menuId","focusedItemId","items","templates","activeItemPath","exact","pt","unstyled","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter"])],16,mt)):C("",!0)]}),_:1},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:1},8,["appendTo","disabled"])}he.render=ft;function R(t){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(t)}function E(t,e,i){return e=pt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function pt(t){var e=ht(t,"string");return R(e)==="symbol"?e:String(e)}function ht(t,e){if(R(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var a=i.call(t,e||"default");if(R(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var It=`
@layer primevue {
    .p-splitbutton {
        display: inline-flex;
        position: relative;
    }

    .p-splitbutton .p-splitbutton-defaultbutton,
    .p-splitbutton.p-button-rounded > .p-splitbutton-defaultbutton.p-button,
    .p-splitbutton.p-button-outlined > .p-splitbutton-defaultbutton.p-button {
        flex: 1 1 auto;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
        border-right: 0 none;
    }

    .p-splitbutton-menubutton,
    .p-splitbutton.p-button-rounded > .p-splitbutton-menubutton.p-button,
    .p-splitbutton.p-button-outlined > .p-splitbutton-menubutton.p-button {
        display: flex;
        align-items: center;
        justify-content: center;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    .p-splitbutton .p-menu {
        min-width: 100%;
    }

    .p-fluid .p-splitbutton {
        display: flex;
    }
}
`,bt={root:function(e){var i,a=e.props;return["p-splitbutton p-component",(i={},E(i,"p-button-".concat(a.severity),a.severity),E(i,"p-button-raised",a.raised),E(i,"p-button-rounded",a.rounded),E(i,"p-button-text",a.text),E(i,"p-button-outlined",a.outlined),E(i,"p-button-sm",a.size==="small"),E(i,"p-button-lg",a.size==="large"),i)]},button:"p-splitbutton-defaultbutton",menuButton:"p-splitbutton-menubutton"},vt=le.extend({name:"splitbutton",css:It,classes:bt}),yt={name:"BaseSplitButton",extends:J,props:{label:{type:String,default:null},icon:{type:String,default:null},model:{type:Array,default:null},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},appendTo:{type:String,default:"body"},disabled:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},buttonProps:{type:null,default:null},menuButtonProps:{type:null,default:null},menuButtonIcon:{type:String,default:void 0},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:vt,provide:function(){return{$parentInstance:this}}},Ie={name:"SplitButton",extends:yt,emits:["click"],data:function(){return{isExpanded:!1}},mounted:function(){var e=this;this.$watch("$refs.menu.visible",function(i){e.isExpanded=i})},methods:{onDropdownButtonClick:function(e){e&&e.preventDefault(),this.$refs.menu.toggle({currentTarget:this.$el,relatedTarget:this.$refs.button.$el}),this.isExpanded=this.$refs.menu.visible},onDropdownKeydown:function(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())},onDefaultButtonClick:function(e){this.isExpanded&&this.$refs.menu.hide(e),this.$emit("click",e)}},computed:{ariaId:function(){return X()},containerClass:function(){return[this.cx("root"),this.class]}},components:{PVSButton:Ve,PVSMenu:he,ChevronDownIcon:Ae}},gt=["data-pc-severity"];function Pt(t,e,i,a,o,s){var d=y("PVSButton"),c=y("PVSMenu");return f(),P("div",v({class:s.containerClass,style:t.style},t.ptm("root"),{"data-pc-name":"splitbutton","data-pc-severity":t.severity}),[M(t.$slots,"default",{},function(){return[m(d,v({type:"button",class:t.cx("button"),label:t.label,disabled:t.disabled,severity:t.severity,text:t.text,outlined:t.outlined,size:t.size,"aria-label":t.label,onClick:s.onDefaultButtonClick,pt:t.ptm("button")},t.buttonProps,{unstyled:t.unstyled,"data-pc-section":"button"}),{icon:g(function(r){return[M(t.$slots,"icon",{class:V(r.class)},function(){return[u("span",v({class:[t.icon,r.class]},t.ptm("button").icon,{"data-pc-section":"buttonicon"}),null,16)]})]}),_:3},16,["class","label","disabled","severity","text","outlined","size","aria-label","onClick","pt","unstyled"])]}),m(d,v({ref:"button",type:"button",class:t.cx("menuButton"),disabled:t.disabled,"aria-haspopup":"true","aria-expanded":o.isExpanded,"aria-controls":s.ariaId+"_overlay",onClick:s.onDropdownButtonClick,onKeydown:s.onDropdownKeydown,pt:t.ptm("menuButton"),severity:t.severity,text:t.text,outlined:t.outlined,size:t.size},t.menuButtonProps,{unstyled:t.unstyled,"data-pc-section":"menubutton"}),{icon:g(function(r){return[M(t.$slots,"menubuttonicon",{class:V(r.class)},function(){return[(f(),D(B(t.menuButtonIcon?"span":"ChevronDownIcon"),v({class:[t.menuButtonIcon,r.class]},t.ptm("menuButton").icon,{"data-pc-section":"menubuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","aria-expanded","aria-controls","onClick","onKeydown","pt","severity","text","outlined","size","unstyled"]),m(c,{ref:"menu",id:s.ariaId+"_overlay",model:t.model,popup:!0,autoZIndex:t.autoZIndex,baseZIndex:t.baseZIndex,appendTo:t.appendTo,unstyled:t.unstyled,pt:t.ptm("menu")},de({_:2},[t.$slots.menuitemicon?{name:"itemicon",fn:g(function(r){return[M(t.$slots,"menuitemicon",{item:r.item,class:V(r.class)})]}),key:"0"}:void 0]),1032,["id","model","autoZIndex","baseZIndex","appendTo","unstyled","pt"])],16,gt)}Ie.render=Pt;const kt={key:0},St={class:"four-columns"},wt={class:"mt-2"},Dt={class:"mt-2"},xt=u("label",{class:"block text-900 mb-2"},"Data Factura",-1),Ct={class:"mt-2"},_t=u("label",{class:"block text-900 mb-2"},"Estat",-1),Lt={class:"mt-2"},Ot=u("label",{class:"block text-900 mb-2"},"Métode Pagament",-1),Et={class:"four-columns"},Vt={class:"mt-1"},At=u("label",{class:"block text-900 mb-2"},"Base",-1),Kt={class:"summary-field"},Tt={class:"mt-1"},Ft=u("label",{class:"block text-900 mb-2"},"Impostos",-1),Bt={class:"summary-field"},Mt={class:"mt-1"},zt=u("label",{class:"block text-900 mb-2"},"Total",-1),Rt={class:"summary-field"},Nt=N({__name:"FormSalesInvoice",props:{invoice:{}},emits:["submit","cancel"],setup(t,{emit:e}){ee();const i=j(),a=te();return fe().shape({invoiceDate:ne().required("La data és obligatoria"),paymentMethodId:ne().required("El métode de pagament és obligatori")}),K({result:!1,errors:{}}),(o,s)=>{var h;const d=y("BaseInput"),c=y("Calendar"),r=y("Dropdown");return o.invoice?(f(),P("form",kt,[u("section",St,[u("div",wt,[m(d,{modelValue:o.invoice.invoiceNumber,"onUpdate:modelValue":s[0]||(s[0]=n=>o.invoice.invoiceNumber=n),label:"Número",disabled:!0},null,8,["modelValue"])]),u("div",Dt,[xt,m(c,{modelValue:o.invoice.invoiceDate,"onUpdate:modelValue":s[1]||(s[1]=n=>o.invoice.invoiceDate=n),dateFormat:"dd/mm/yy"},null,8,["modelValue"])]),u("div",Ct,[_t,m(r,{modelValue:o.invoice.statusId,"onUpdate:modelValue":s[2]||(s[2]=n=>o.invoice.statusId=n),editable:"",options:(h=x(a).lifecycle)==null?void 0:h.statuses,optionValue:"id",optionLabel:"name",class:"w-full"},null,8,["modelValue","options"])]),u("div",Lt,[Ot,m(r,{modelValue:o.invoice.paymentMethodId,"onUpdate:modelValue":s[3]||(s[3]=n=>o.invoice.paymentMethodId=n),editable:"",options:x(i).paymentMethods,optionValue:"id",optionLabel:"name",class:"w-full"},null,8,["modelValue","options"])])]),u("section",Et,[u("div",Vt,[At,u("span",Kt,_(o.invoice.baseAmount)+" €",1)]),u("div",Tt,[Ft,u("span",Bt,_(o.invoice.taxAmount)+" €",1)]),u("div",Mt,[zt,u("span",Rt,_(o.invoice.netAmount)+" €",1)])])])):C("",!0)}}}),Ut=["onClick"],Gt=N({__name:"TableInvoiceDetails",props:{details:{},headerVisible:{type:Boolean}},emits:["edit","delete"],setup(t,{emit:e}){const i=te(),a=j();ce(async()=>{await i.fetchOneByName("SalesInvoice")});const o=d=>{var r;const c=(r=a.taxes)==null?void 0:r.find(h=>h.id===d);if(c)return`${c.percentatge} %`},s=(d,c)=>{e("delete",c)};return(d,c)=>{const r=y("Column"),h=y("DataTable");return f(),D(h,{class:"small-datatable",tableStyle:"min-width: 100%",scrollable:"",scrollHeight:"55vh",sortMode:"multiple",value:d.details},de({default:g(()=>[m(r,{header:"Quantitat",field:"quantity",style:{width:"10%"}}),m(r,{header:"Descripció",field:"description",style:{width:"40%"}}),m(r,{header:"Preu unitat",field:"unitCost",style:{width:"10%"}},{body:g(n=>[A(_(n.data.unitCost)+" € ",1)]),_:1}),m(r,{header:"IVA",style:{width:"10%"}},{body:g(n=>[A(_(o(n.data.taxId)),1)]),_:1}),m(r,{header:"Total",field:"totalCost",style:{width:"10%"}},{body:g(n=>[A(_(n.data.amount)+" € ",1)]),_:1}),m(r,{style:{width:"10%"}},{body:g(n=>[u("i",{class:V([x(q).TIMES,"grid_delete_column_button"]),onClick:l=>s(l,n.data)},null,10,Ut)]),_:1})]),_:2},[d.headerVisible?{name:"header",fn:g(()=>[M(d.$slots,"header")]),key:"0"}:void 0]),1032,["value"])}}}),qt={key:0},jt={class:"two-columns-7525"},Ht={class:"mt-2"},Zt={class:"mt-2"},Wt=u("label",{class:"block text-900 mb-2"},"Impost",-1),Qt={class:"three-columns"},Yt={class:"mt-2"},$t={class:"mt-2"},Xt={class:"mt-2"},Jt=N({__name:"FormSalesInvoiceDetail",props:{invoiceDetail:{}},emits:["submit","cancel"],setup(t,{emit:e}){const i=t,a=ee(),o=j(),s=()=>{const n=i.invoiceDetail;n.quantity&&n.quantity>0&&n.unitPrice&&n.unitPrice>0&&(i.invoiceDetail.unitCost=n.unitPrice,i.invoiceDetail.amount=We.round(n.quantity*n.unitPrice,2),i.invoiceDetail.totalCost=i.invoiceDetail.amount)},d=fe().shape({quantity:se().min(1).required("La quantitat ha de ser superior a 1"),unitPrice:se().min(.01).required("El preu unitat és obligatori")}),c=K({result:!1,errors:{}}),r=()=>{const n=new Ze(d);c.value=n.validate(i.invoiceDetail)},h=async()=>{if(r(),c.value.result)e("submit",i.invoiceDetail);else{let n="";Object.entries(c.value.errors).forEach(l=>{n+=`${l[1].map(p=>p)}.   `}),a.add({severity:"warn",summary:"Formulari inválid",detail:n,life:5e3})}};return(n,l)=>{const p=y("Dropdown"),I=y("Button");return n.invoiceDetail?(f(),P("form",qt,[u("section",jt,[u("div",Ht,[m(G,{label:"Descripció",modelValue:n.invoiceDetail.description,"onUpdate:modelValue":l[0]||(l[0]=b=>n.invoiceDetail.description=b)},null,8,["modelValue"])]),u("div",Zt,[Wt,m(p,{modelValue:n.invoiceDetail.taxId,"onUpdate:modelValue":l[1]||(l[1]=b=>n.invoiceDetail.taxId=b),editable:"",options:x(o).taxes,optionValue:"id",optionLabel:"name",class:"w-full"},null,8,["modelValue","options"])])]),u("section",Qt,[u("div",Yt,[m(G,{type:x(Y).NUMERIC,label:"Quantitat",modelValue:n.invoiceDetail.quantity,"onUpdate:modelValue":[l[2]||(l[2]=b=>n.invoiceDetail.quantity=b),s]},null,8,["type","modelValue"])]),u("div",$t,[m(G,{type:x(Y).CURRENCY,label:"Preu Unitat","model-value":n.invoiceDetail.unitPrice,"onUpdate:modelValue":[l[3]||(l[3]=b=>n.invoiceDetail.unitPrice=b),s]},null,8,["type","model-value"])]),u("div",Xt,[m(G,{type:x(Y).CURRENCY,label:"Total","model-value":n.invoiceDetail.amount,"onUpdate:modelValue":l[4]||(l[4]=b=>n.invoiceDetail.amount=b),disabled:""},null,8,["type","model-value"])])]),m(I,{label:"Crear",onClick:h,style:{float:"right"},size:"small",class:"mt-2"})])):C("",!0)}}}),ei=t=>(Te("data-v-3796be00"),t=t(),Fe(),t),ti={class:"selector-filter"},ii={class:"selector-filter-field"},ni=ei(()=>u("label",{for:""},"Comanda",-1)),si={class:"selector-filter-button"},ai={class:"flex align-items-center gap-2"},oi=N({__name:"SelectorOrderDetails",props:{details:{},headerVisible:{type:Boolean}},emits:["selected"],setup(t,{emit:e}){const i=t,a=K([]),o=K(""),s=Ke(()=>{var c;return o.value.length===0?i.details:(c=i.details)==null?void 0:c.filter(r=>r.salesOrderNumber.toString().includes(o.value))}),d=()=>{if(a.value.length===0)return;const c=a.value.map(r=>({salesOrderHeaderId:r.salesOrderId,description:r.description,isInvoiced:!0,isServed:r.isServed,quantity:r.quantity,referenceId:r.referenceId,id:r.id,unitCost:r.unitCost,unitPrice:r.unitPrice,totalCost:r.totalCost,amount:r.amount}));e("selected",c)};return(c,r)=>{const h=y("InputText"),n=y("Button"),l=y("Column"),p=y("DataTable");return f(),D(p,{class:"small-datatable",tableStyle:"min-width: 100%",scrollable:"",scrollHeight:"70vh",value:s.value,selectionMode:"multiple",selection:a.value,"onUpdate:selection":r[1]||(r[1]=I=>a.value=I),"meta-key-selection":!1,rowGroupMode:"subheader",groupRowsBy:"salesOrderNumber",sortMode:"single",sortField:"salesOrderNumber"},{header:g(()=>[u("header",ti,[u("div",ii,[ni,A("   "),m(h,{style:{width:"150px",height:"35px"},modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=I=>o.value=I),size:"small"},null,8,["modelValue"])]),u("div",si,[m(n,{onClick:d,size:"small",icon:x(q).CHECK_SQUARE},null,8,["icon"])])])]),groupheader:g(I=>[u("div",ai,[u("b",null,"Comanda "+_(I.data.salesOrderNumber)+" - "+_(x(me)(I.data.salesOrderDate)),1)])]),default:g(()=>[m(l,{header:"Quantitat",field:"quantity",style:{width:"10%"}}),m(l,{header:"Descripció",field:"description",style:{width:"50%"}}),m(l,{header:"Preu",field:"amount",style:{width:"10%"}},{body:g(I=>[A(_(I.data.amount)+" € ",1)]),_:1})]),_:1},8,["value","selection"])}}});const ri=Be(oi,[["__scopeId","data-v-3796be00"]]),li=Me({id:"reports",state:()=>({reports:void 0}),getters:{getReportByName:t=>e=>{if(t.reports)return t.reports.find(i=>i.originalName.includes(e))}},actions:{async fetchAll(){this.reports=await ae.File.GetEntityFiles("Reports",Ye)},async generateAndDownload(t,e,i){const a=await ae.File.DownloadReport(t,e);a&&He(i,a)}}}),ui={key:0},di={class:"flex flex-wrap align-items-center justify-content-between gap-2"},ci=u("span",{class:"text-xl text-900 font-bold"},"Detall de la factura",-1),_i=N({__name:"SalesInvoice",setup(t){const e=[{label:"Generar factura",icon:q.FILE_PDF,command:()=>Z()}];ee();const i=ze(),a=Re(),o=Ne(),s=Ue(),d=j(),c=li(),r=je(),h=te(),n=qe(),{invoice:l}=Ge(n),p={Free:0,FromOrder:1},I=K(0),b=$({visible:!1,title:"",closable:!0,position:"center",modal:!0});ce(async()=>{d.fetchMasterData(),r.fetchCustomers(),h.fetchOneByName("SalesInvoice"),c.fetchAll(),await n.GetById(a.params.id),s.setMenuItem({icon:q.WALLET,title:`Factura de venta ${l.value.invoiceNumber} - ${l.value.customerComercialName}`,backButtonVisible:!0})});const H=async()=>{await n.Update(l.value)&&o.back()},Z=()=>{var L;const k=c.getReportByName("SalesInvoice");k&&c.generateAndDownload(k,[{key:"InvoiceId",value:l.value.id}],`Temges_Factura_${(L=l.value)==null?void 0:L.invoiceNumber}.pdf`)},W=K([]),T=$({}),be=async()=>{l.value&&(W.value=await Qe.SalesInvoice.GetInvoiceableOrderDetails(l.value.customerId),T.invoiceId=l.value.id,I.value=p.FromOrder,b.title="Selecció de linees de comanda",b.visible=!0)},ve=async k=>{T.orderDetails=k,await n.CreateInvoiceDetailsFromOrderDetails(T)&&await n.GetById(a.params.id),b.visible=!1},O=$({}),ye=()=>{var k;if(I.value=p.Free,l.value){O.salesInvoiceId=l.value.id,O.quantity=1,O.description="",O.totalCost=0;const L=(k=d.taxes)==null?void 0:k.find(U=>U.name.includes("0"));L&&(O.taxId=L.id),b.title="Introducció de línea lliure",b.visible=!0}},ge=async()=>{const k=await n.CreateInvoiceDetail(O);b.visible=!1,console.log("createInvoiceDetail",k)},Pe=async k=>{i.require({message:`Està segur que vol eliminar la línea ${k.description}?`,icon:"pi pi-question-circle",acceptIcon:"pi pi-check",rejectIcon:"pi pi-times",accept:async()=>{await n.DeleteInvoiceDetail(k),n.invoice.invoiceDate=me(n.invoice.invoiceDate)}})};return(k,L)=>{const U=y("Button"),ke=y("Dialog");return f(),P(F,null,[m(x(Ie),{label:"Guardar",onClick:H,model:e,size:"small",class:"grid_add_row_button"}),x(l)?(f(),P("main",ui,[m(Nt,{class:"mt-3 mr-3",invoice:x(l)},null,8,["invoice"]),m(Gt,{class:"mt-3","header-visible":!0,details:x(l).salesInvoiceDetails,onDelete:Pe},{header:g(()=>[u("div",di,[ci,u("div",null,[m(U,{size:"small",label:"Afegir de comanda",onClick:be}),A("    "),m(U,{size:"small",label:"Crear linia lliure",onClick:ye})])])]),_:1},8,["details"])])):C("",!0),m(ke,{visible:b.visible,"onUpdate:visible":L[0]||(L[0]=Se=>b.visible=Se),header:b.title,closable:b.closable,modal:b.modal,style:ue({width:I.value===p.Free?"50vw":"60vw"}),maximizable:I.value===p.FromOrder},{default:g(()=>[I.value===p.Free?(f(),D(Jt,{key:0,invoiceDetail:O,onSubmit:ge},null,8,["invoiceDetail"])):C("",!0),I.value===p.FromOrder?(f(),D(ri,{key:1,headerVisible:!0,details:W.value,onSelected:ve},{header:g(()=>[]),_:1},8,["details"])):C("",!0)]),_:1},8,["visible","header","closable","modal","style","maximizable"])],64)}}});export{_i as default};
