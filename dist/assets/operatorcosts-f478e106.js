import{d as T,g as k,u as x,j as I,x as D,o as E,P as d,h as l,m as M,w as r,k as u,a as O,e as c,i,D as m,n as q}from"./index-75cc375f.js";import{u as N}from"./plantmodel-9512c80c.js";import{v as P}from"./v4-a960c1f4.js";import"./base.service-c816a16d.js";const R={class:"flex flex-wrap align-items-center justify-content-between gap-2"},j=c("span",{class:"text-xl text-900 font-bold"},"Cost per tipus d'operari",-1),$=["onClick"],F=T({__name:"operatorcosts",setup(A){const p=k(),_=x(),a=N(),h=I(),f=D();E(async()=>{await a.fetchOperatorCosts(),await a.fetchOperatorTypes(),await a.fetchMachineStatuses(),_.setMenuItem({icon:d.CALENDAR,title:"Costs per tipus d'operari"})});const y=e=>{var s;const t=(s=a.operatorTypes)==null?void 0:s.find(o=>o.id===e);if(t)return t.name},C=e=>{var s;const t=(s=a.machineStatuses)==null?void 0:s.find(o=>o.id===e);if(t)return t.name},w=()=>{p.push({path:`/operatorcost/${P()}`})},g=e=>{e.originalEvent.target.className.includes("grid_delete_column_button")||p.push({path:`/operatorcost/${e.data.id}`})},b=(e,t)=>{f.require({target:e.currentTarget,message:`Está segur que vol eliminar el cost  ${t.id}?`,icon:"pi pi-question-circle",acceptIcon:"pi pi-check",rejectIcon:"pi pi-times",accept:async()=>{await a.deleteOperatorCost(t.id)&&(h.add({severity:"success",summary:"Eliminat",life:3e3}),await a.fetchOperatorCosts())}})};return(e,t)=>{const s=l("Button"),o=l("Column"),v=l("BooleanColumn"),S=l("DataTable");return O(),M(S,{value:u(a).operatorCosts,tableStyle:"min-width: 100%",onRowClick:g},{header:r(()=>[c("div",R,[j,i(s,{icon:u(d).PLUS,rounded:"",raised:"",onClick:w},null,8,["icon"])])]),default:r(()=>[i(o,{header:"Tipus d'operari",style:{width:"30%"}},{body:r(n=>[c("span",null,m(y(n.data.operatorTypeId)),1)]),_:1}),i(o,{header:"Estat de màquina",style:{width:"30%"}},{body:r(n=>[c("span",null,m(C(n.data.machineStatusId)),1)]),_:1}),i(o,{field:"cost",header:"Cost",style:{width:"30%"}}),i(o,{header:"Desactivada",style:{width:"10%"}},{body:r(n=>[i(v,{value:n.data.disabled},null,8,["value"])]),_:1}),i(o,null,{body:r(n=>[c("i",{class:q([u(d).TIMES,"grid_delete_column_button"]),onClick:B=>b(B,n.data)},null,10,$)]),_:1})]),_:1},8,["value"])}}});export{F as default};
