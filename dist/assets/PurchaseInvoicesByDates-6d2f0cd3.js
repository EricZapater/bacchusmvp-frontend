import{j as w,u as V,k as r,M as k,P as u,f as n,a as P,w as m,o as S,e as a,h as e,l as _,a0 as B,t as N,q as E,s as R}from"./index-2bfc80b2.js";import{u as T}from"./usetoast.esm-82b2df9e.js";import{u as M}from"./useconfirm.esm-4982caff.js";import{u as U,P as F}from"./invoices-7f9e766d.js";import{u as j}from"./vue-router-b024814c.js";import{f as A}from"./functions-b28f986d.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./base.service-8b4a1a4e.js";const p=i=>(E("data-v-c3aad535"),i=i(),R(),i),z={class:"flex flex-wrap align-items-center justify-content-between gap-2"},G={class:"datatable-filter"},H={class:"filter-field"},K=p(()=>a("label",{class:"block text-900 mb-2"},"Data inici",-1)),L={class:"filter-field"},$=p(()=>a("label",{class:"block text-900 mb-2"},"Data fi",-1)),J={class:"filter-field"},O=p(()=>a("label",{class:"block text-900 mb-2"},"Gestionades",-1)),Q={class:"datatable-buttons"},W=w({__name:"PurchaseInvoicesByDates",setup(i){T(),M();const y=j(),I=V();U();const o=r({startDate:void 0,endDate:void 0,managed:!1}),v=r([]),d=r([]),D=new F("/PurchaseInvoice");k(async()=>{v.value=await D.getAll(),I.setMenuItem({icon:u.SERVER,text:"Comptabilització de factures"})});const C=c=>{c.originalEvent.target.className.includes("grid_delete_column_button")||y.push({path:`/purchaseinvoicestatus/${c.data.id}`})},f=()=>{console.log(o.value)};return(c,s)=>{const h=n("Calendar"),g=n("Checkbox"),b=n("Button"),l=n("Column"),x=n("DataTable");return S(),P(x,{class:"small-datatable",selection:d.value,"onUpdate:selection":s[3]||(s[3]=t=>d.value=t),value:v.value,tableStyle:"min-width: 100%",onRowClick:C},{header:m(()=>[a("div",z,[a("div",G,[a("div",H,[K,e(h,{modelValue:o.value.startDate,"onUpdate:modelValue":s[0]||(s[0]=t=>o.value.startDate=t),dateFormat:"dd/mm/yy"},null,8,["modelValue"])]),a("div",L,[$,e(h,{modelValue:o.value.endDate,"onUpdate:modelValue":s[1]||(s[1]=t=>o.value.endDate=t),dateFormat:"dd/mm/yy"},null,8,["modelValue"])]),a("div",J,[O,e(g,{modelValue:o.value.managed,"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.managed=t),binary:!0},null,8,["modelValue"])])]),a("div",Q,[e(b,{class:"datatable-button",icon:_(u).FILTER,rounded:"",raised:"",onClick:f},null,8,["icon"]),e(b,{icon:_(u).CHECK,disabled:d.value.length===0,rounded:"",raised:"",severity:"success",onClick:f},null,8,["icon","disabled"])])])]),default:m(()=>[e(l,{selectionMode:"multiple",style:{width:"2%"}}),e(l,{field:"number",header:"Número",style:{width:"20%"}}),e(l,{field:"supplierNumber",header:"Núm. Prov.",style:{width:"20%"}}),e(l,{header:"Data",style:{width:"20%"}},{body:m(t=>[B(N(_(A)(t.data.purchaseInvoiceDate)),1)]),_:1}),e(l,{field:"grossAmount",header:"Import",style:{width:"20%"}})]),_:1},8,["selection","value"])}}});const le=q(W,[["__scopeId","data-v-c3aad535"]]);export{le as default};
