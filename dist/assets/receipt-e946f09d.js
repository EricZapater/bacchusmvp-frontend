import{K as a}from"./index-3e5d5186.js";import{E as s}from"./index-e8d6776a.js";const n=a({id:"receipts",state:()=>({receipts:void 0,receipt:void 0}),getters:{},actions:{setNewReceipt(e){this.receipt={id:e,date:"",details:[],disabled:!1,exerciseId:"",statusId:"",supplierId:"",supplierNumber:"",number:""}},async fetchFiltered(e,t,i,c){this.receipts=await s.Receipt.getFiltered(e,t,i)},async fetchReceipts(){this.receipts=await s.Receipt.getAll()},async fetchReceipt(e){this.receipt=await s.Receipt.getById(e)},async createReceipt(e){const t=await s.Receipt.create(e);return t&&await this.fetchReceipts(),t},async updateReceipt(e,t){const i=await s.Receipt.update(e,t);return i&&await this.fetchReceipts(),i},async deleteReceipt(e){const t=await s.Receipt.delete(e);return t&&await this.fetchReceipts(),t},async createReceiptDetail(e){const t=await s.Receipt.addDetail(e);return t.result&&await this.fetchReceipt(e.receiptId),t},async updateReceiptDetail(e,t){const i=await s.Receipt.updateDetail(t);return i.result&&await this.fetchReceipt(t.receiptId),i},async deleteReceiptDetail(e){const t=await s.Receipt.removeDetail(e);if(t.result){const i=this.receipt.details.find(c=>c.id===e);if(i){const c=this.receipt.details.indexOf(i);this.receipt.details.splice(c)}}return t}}});export{n as u};
